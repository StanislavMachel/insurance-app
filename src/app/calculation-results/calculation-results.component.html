<div class="check-columns">
    <mat-checkbox class="check-box" (change)="showMonthlyFee($event.checked)">Show monthly fee</mat-checkbox>
    <mat-checkbox class="check-box" [checked]="withIndemnityRisk"
        (change)="calculationWithIndemnityRisk($event.checked)">
        Calculation with indemnity risk
    </mat-checkbox>
</div>


<div class="mat-elevation-z8">


    <table mat-table [dataSource]="dataSource">
        <!-- Vehicle plate number column -->
        <ng-container matColumnDef="vehiclePlateNumber">
            <th mat-header-cell *matHeaderCellDef>Vehicle plate number</th>
            <td mat-cell *matCellDef="let element">{{element.vehiclePlateNumber}}</td>
        </ng-container>

        <!-- Vehicle first registration column -->
        <ng-container matColumnDef="vehicleFirstRegistration">
            <th mat-header-cell *matHeaderCellDef>Vehicle first registration</th>
            <td mat-cell *matCellDef="let element">{{element.vehicleFirstRegistration}}</td>
        </ng-container>

        <!-- Vehicle purchase price column -->
        <ng-container matColumnDef="vehiclePurchasePrice">
            <th mat-header-cell *matHeaderCellDef>Vehicle purchase price</th>
            <td mat-cell *matCellDef="let element"> {{element.vehiclePurchasePrice}} </td>
        </ng-container>

        <!-- Vehicle producer column -->
        <ng-container matColumnDef="vehicleProducer">
            <th mat-header-cell *matHeaderCellDef>Vehicle producer</th>
            <td mat-cell *matCellDef="let element">{{element.vehicleProducer}}</td>
        </ng-container>

        <!-- Vehicle mileage column -->
        <ng-container matColumnDef="vehicleMileage">
            <th mat-header-cell *matHeaderCellDef>Vehicle mileage</th>
            <td mat-cell *matCellDef="let element">{{element.vehicleMileage}}</td>
        </ng-container>

        <!-- Vehicle previous indemnity column -->
        <ng-container matColumnDef="vehiclePreviousIndemnity">
            <th mat-header-cell *matHeaderCellDef>Vehicle previous indemnity</th>
            <td mat-cell *matCellDef="let element">{{element.vehiclePreviousIndemnity | number:'1.2'}}</td>
        </ng-container>

        <!-- Monthly fee column -->
        <ng-container matColumnDef="monthlyFee">
            <th mat-header-cell *matHeaderCellDef>Monthly fee</th>
            <td mat-cell *matCellDef="let element">{{element.monthlyFee | currency:'EUR'}}</td>
        </ng-container>

        <!-- Annual fee column -->
        <ng-container matColumnDef="annualFee">
            <th mat-header-cell *matHeaderCellDef>Annual fee</th>
            <td mat-cell *matCellDef="let element">{{element.annualFee | currency:'EUR'}}</td>
        </ng-container>

        <!-- Calc parameters column -->
        <ng-container matColumnDef="calcParameters">
            <th mat-header-cell *matHeaderCellDef>Calc parameters</th>
            <td mat-cell *matCellDef="let element">
                <mat-chip-list>
                    <mat-chip *ngFor="let calcParameter of element.calcParameters">{{calcParameter}}</mat-chip>
                </mat-chip-list>
            </td>

        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons (page)="getPaginatorData()"></mat-paginator>
</div>